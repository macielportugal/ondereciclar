{% extends 'core/base.html' %} {% block content %}
<div id="map" class="row">
    <div id="map-result" class="col-8 bg-success"></div>
    <div class="col-4">
        <h3 class="text-center my-5">Endereços</h3>

        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>Telefone</th>
                    <th>Endereço</th>
                </tr>
            </thead>
            <tbody>
                {% for org in orgs %}
                <tr>
                    <td>{{ org.name }}</td>
                    <td>{{ org.phone }}</td>
                    <td>{{ org.address }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %} {% block scripts %}
<script>
    // Função para inicializar o mapa
    function initMap() {
        // Localização inicial (latitude e longitude)
        const location = {
            lat: -23.5505,
            lng: -46.6333,
        }; // São Paulo como exemplo

        // Cria o mapa com o local inicial e zoom ajustado
        const map = new google.maps.Map(document.getElementById("map-result"), {
            zoom: 10,
            center: location,
        });

        // Adiciona um marcador na localização inicial
        new google.maps.Marker({
            position: location,
            map: map,
            title: "São Paulo",
        });
    }
</script>

<script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"
></script>
<script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCJc9_jlxYR21z_KZ4of1M6vtgX8Xrw0BQ&callback=initMap"
    async
    defer
></script>
{% endblock %}
